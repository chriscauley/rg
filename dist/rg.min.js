!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("riot")):"function"==typeof define&&define.amd?define(["riot"],e):e(t.riot)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,window.riot=t;var e={_name:"blazecss",alert:{outer:"alerts",_base:"alerts__alert alerts__alert--${VARIANT}",toString(){return this.default}},badge:{_base:"button button--${VARIANT} tag"},button:{close:"button button--close",default:"button",_base:"button button--${VARIANT}"},field:{_base:"field field--${VARIANT}",default:"field"},container:"container container--medium rg-block",grid:{outer:"grid grid--wrap",w25:"grid__cell--width-25 card__content",w33:"grid__cell--width-33 card__content",w50:"grid__cell--width-50 card__content",w66:"grid__cell--width-66 card__content",w75:"grid__cell--width-75 card__content",w100:"grid__cell--width-100 card__content"},menu:{outer:"menu menu--high",default:"menu__item",_base:"menu__item menu__item--${VARIANT}",selected:"menu__item menu__item--active"},modal:{root:"",mask:"overlay",outer:"modal",ghost:"modal modal--ghost",header:"modal__header",header_title:"heading heading--small",body:"modal__body",footer:"modal__footer modal__footer--block"},nav:{link:"menu__item label"},pagination:{outer:"pagination",controls:{left:"pagination__controls pagination__controls--backward",right:"pagination__controls pagination__controls--forward",center:"pagination__controls"},item:"pagination__control",page:"pagination__page",active_page:"pagination__page pagination__page--current",ellipsis:"pagination__ellipsis"},tab_outer:"tabs tabs--primary",tab_nav:{outer:"tabs__headings",default:"tab-heading",active:"tab-heading tab-heading--active",disabled:"tab-heading tab-heading--disabled"},tab_content:{default:"tabs__tab",active:"tabs__tab tabs__tab--active"},toast_outer:{_base:"toasts toasts--${VARIANT}",default:"toasts toasts--bottomright"},toast:{_base:"toast toast--${VARIANT}"},tooltip:{top:"bubble bubble--top rg-bottom-100 rg-absolute",bottom:"bubble bubble--bottom rg-top-100 rg-absolute",left:"bubble bubble--left rg-right-100 rg-absolute",right:"bubble bubble--right rg-left-100 rg-absolute",outer:"rg-relative",_default:"top"},switch:{outer:"toggle toggle--primary",wrapper:"toggle__wrapper",input:"",track:"toggle__track",handle:"toggle__handle"}},a={_name:"blazeui",alert:{_base:"c-alert c-alert--${VARIANT}"},button:{close:"c-button c-button--close",_base:""},tooltip:{_base:"c-badge c-badge--brand c-tooltip c-tooltip--${VARIANT}",_default:"top"}};const i={brand:"blue",info:"blue",warning:"yellow",success:"green",error:"red",primary:"blue",secondary:"yellow",light:"grey",dark:"grey",danger:"red"},o=t=>i[t];var s={_name:"tailwind",_var2color:i,alert:{_base:"bg-${VARIANT}-100 border border-${VARIANT}-400 text-${VARIANT}-700 px-4 py-3 rounded relative mb-4",_default:"brand",_transform:o},button:{close:"absolute top-0 right-0 mt-3 mr-4 text-2xl leading-none",_base:"bg-${VARIANT}-500 hover:bg-${VARIANT}-700 text-white font-bold py-2 px-4 rounded",_default:"brand",_transform:o},badge:{_base:"badge badge-${VARIANT} ",brand:"badge badge-brand ",info:"badge badge-info ",warning:"badge badge-warning ",success:"badge badge-success ",error:"badge badge-error ",primary:"badge badge-primary ",secondary:"badge badge-secondary ",light:"badge badge-light ",dark:"badge badge-dark ",danger:"badge badge-danger "},field:{_base:"field field--${VARIANT} ",default:"form-control ",success:"field field--success ",error:"field field--error ",disabled:"field field--disabled ",undefined:"form-control "},card:{outer:"card mb-4 ",inner:"card-body "},container:"container p-4 d-block ",grid:{outer:"flex mb-4 flex-wrap",w25:"w-1/4 p-4 flex-grow",w33:"w-1/3 p-4 flex-grow",w50:"w-1/2 p-4 flex-grow",w66:"w-2/3 p-4 flex-grow",w75:"w-3/4 p-4 flex-grow",w100:"w-full p-4 flex-grow"},h1:"text-4xl mb-4",h2:"text-3xl mb-4",h3:"text-2xl mb-2",h4:"text-xl mb-2",h5:"text-lg mb-1",menu:{outer:"btn-group-vertical w-100 p-0 ",default:"btn btn-light rg-pointer ",_base:"btn btn-${VARIANT} rg-pointer ",selected:"btn btn-primary ",disabled:"btn btn-light disabled ",active:"btn btn-active rg-pointer ",hover:"active ",undefined:"btn btn-light rg-pointer "},modal:{root:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center",mask:"bg-gray-100 opacity-50 w-full h-full absolute",outer:"bg-white shadow-lg rounded z-10",ghost:"modal modal--ghost ",header:"px-6",header_title:"font-bold text-xl mb-2",body:"px-6 pb-4 ",footer:"px-6 pb-4",inner:"modal-content "},nav:{link:"p-2 hover:bg-gray-200 text-blue-400",vertical:"flex flex-col mb-4"},pagination:{outer:"pagination ",controls:{left:"pagination__controls pagination__controls--backward ",right:"pagination__controls pagination__controls--forward ",center:"pagination__controls "},item:"pagination__control ",page:"pagination__page ",active_page:"pagination__page pagination__page--current ",ellipsis:"pagination__ellipsis "},tab_outer:" ",tab_nav:{outer:"nav nav-tabs ",default:"nav-item nav-link rg-pointer text-primary ",active:"nav-item nav-link active rg-pointer ",disabled:"nav-item nav-link disabled ",undefined:"nav-item nav-link rg-pointer text-primary "},tab_content:{default:"d-none ",active:"border rounded-bottom card-body border-top-0 ",undefined:"d-none "},toast_outer:{_base:"toasts toasts--${VARIANT} ",default:"toasts toasts--bottomright ",topleft:"toasts toasts--topleft ",bottomleft:"toasts toasts--bottomleft ",topright:"toasts toasts--topright ",bottomright:"toasts toasts--bottomright "},toast:{_base:"toast show fade bg-${VARIANT} ",brand:"toast show fade bg-brand ",info:"toast show fade bg-info ",warning:"toast show fade bg-warning ",success:"toast show fade bg-success ",error:"toast show fade bg-error ",primary:"toast show fade bg-primary ",secondary:"toast show fade bg-secondary ",light:"toast show fade bg-light ",dark:"toast show fade bg-dark ",danger:"toast show fade bg-danger "},tooltip:{_default:"top ",top:"rg-bottom-100 absolute min-w-full mb-2 z-10",bottom:"rg-top-100 absolute min-w-full mt-2 z-10",left:"rg-right-100 absolute min-w-full mr-2 z-10",right:"rg-left-100 absolute min-w-full ml-2 z-10",outer:"relative",inner:"bg-black text-white p-1 rounded"},switch:{outer:"toggle toggle--primary ",wrapper:"toggle__wrapper ",input:" ",track:"toggle__track ",handle:"toggle__handle "}},r={_name:"bootstrap",alert:{_base:"alert alert-${VARIANT}",_missing:["brand","error"],_default:"secondary"},badge:{_base:"badge badge-${VARIANT}"},button:{_base:"btn btn-${VARIANT}",close:"close"},field:{default:"form-control"},container:"container p-4 d-block",grid:{outer:"row",w25:"col-sm-3 d-block",w33:"col-sm-4 d-block",w50:"col-sm-6 d-block",w66:"col-sm-8 d-block",w75:"col-sm-9 d-block",w100:"col-sm-12 d-block"},menu:{outer:"btn-group-vertical w-100 p-0",default:"btn btn-light rg-pointer",disabled:"btn btn-light disabled",selected:"btn btn-primary",_base:"btn btn-${VARIANT} rg-pointer",hover:"active"},modal:{root:"modal d-block show fade",mask:"modal-backdrop fade show",outer:"modal-dialog",inner:"modal-content",header:"modal-header",header_title:"modal-title",body:"modal-body",footer:"modal-footer"},nav:{vertical:"nav flex-column mb-4",link:"nav-link"},tab_outer:"",tab_nav:{outer:"nav nav-tabs",default:"nav-item nav-link rg-pointer text-primary",disabled:"nav-item nav-link disabled",active:"nav-item nav-link active rg-pointer"},tab_content:{default:"d-none",active:"border rounded-bottom card-body border-top-0"},toast_outer:{},toast:{_base:"toast show fade bg-${VARIANT}"},tooltip:{_base:"tooltip bs-tooltip-${VARIANT} show fade",_default:"top",inner:"tooltip-inner",arrow:"arrow"},card:{outer:"card mb-4",inner:"card-body"}};function n(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function d(t,e){var a;return e&&!0===e.clone&&n(t)?c((a=t,Array.isArray(a)?[]:{}),t,e):t}function l(t,e,a){var i=t.slice();return e.forEach(function(e,o){void 0===i[o]?i[o]=d(e,a):n(e)?i[o]=c(t[o],e,a):-1===t.indexOf(e)&&i.push(d(e,a))}),i}function c(t,e,a){var i=Array.isArray(e),o=(a||{arrayMerge:l}).arrayMerge||l;return i?Array.isArray(t)?o(t,e,a):d(e,a):function(t,e,a){var i={};return n(t)&&Object.keys(t).forEach(function(e){i[e]=d(t[e],a)}),Object.keys(e).forEach(function(o){n(e[o])&&t[o]?i[o]=c(t[o],e[o],a):i[o]=d(e[o],a)}),i}(t,e,a)}c.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,a){return c(t,a,e)})};const g=(()=>{const t=e=>{e&&(Array.isArray(e)||"object"!=typeof e||Object.keys(e).forEach(a=>{"string"==typeof e[a]?e[a].endsWith(" ")||(e[a]+=" "):t(e[a])}))},i={},o={},n=t=>{if(!o[t])throw`Unknown css variant: ${t}`;i.current=o[t],i._current=t},d=["brand","info","warning","success","error","primary","secondary","light","dark","danger"],l={alert:d,badge:d,button:d,field:["success","error","disabled"],menu:["disabled","active","hover","default"],toast:d,tooltip:["top","bottom","left","right"],toast_outer:["topleft","bottomleft","topright","bottomright"]},g={tab_content:t=>t.disabled?"disabled":t.active?"active":"default"};g.tab_nav=g.tab_content;const b=e=>{e.VARIANTS=l,e.use=n,Object.keys(e).filter(t=>!t.startsWith("_")).forEach(t=>{const a=e[t];if("string"==typeof a)return;const i=l[t]||[],o=a._default||"default",s=a._missing||[];a._base&&i.filter(t=>!a[t]).forEach(t=>{let e=-1===s.indexOf(t)?t:o;e=a._transform?a._transform(e):e,a[t]=a._base.replace(/\$\{VARIANT\}/g,e)}),a[void 0]=a[void 0]||a[o],g[t]&&!a.match&&(a.match=(e=>a[g[t](e)]||a.default))}),o[e._name]=e,t(e),e._name=e._name.trim(),(t=>{let e=window.ALL||{};e=c(e,t),window.ALL=e})(e)},p=t=>{if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t)){var e=[];return t.forEach(function(t){e.push(p(t))}),e}let a=new t.constructor;for(var i in t)t.hasOwnProperty(i)&&(a[i]=p(t[i]));return a};return b(e),b(a),b(s),b(r),n("blazecss"),{init(t){this.css=i.current},scopeCSS(t){const e=p(i.current);Object.assign(e,e[t]),this.css=e},use:n,variants:l}})();riot.mixin("CSSMixin",g),t.tag2("rg-alerts",'<div class="{css.alert.outer}"> <div each="{opts.alerts}" class="{className}" if="{isvisible}" onclick="{select}"> <button class="{css.button.close}" if="{dismissable != false}" onclick="{parent.dismiss}"> &times; </button> {text} </div> </div>',"","",function(t){this.mixin("CSSMixin"),this.on("mount",()=>this.update()),this.on("update",()=>{t.alerts&&t.alerts.forEach(t=>{t.className=`${this.css.alert[t.type]} ${t.select&&"rg-pointer"}`,void 0===t.isvisible&&(t.isvisible=!0),t.timeout&&(t.startTimer=(()=>{t.timer=setTimeout(()=>{this.dismiss({item:t})},t.timeout)}),t.startTimer())})}),this.dismiss=(t=>{const e=t.item;e.isvisible=!1,clearTimeout(e.timer),this.trigger("dismiss",e),this.update()}),this.select=(t=>{const e=t.item;e.onclick&&e.onclick(e),this.trigger("select",e)})}),t.tag2("rg-bubble",'<div class="context"> <div class="{css.tooltip[opts.bubble.direction]}" if="{isvisible}"> <div class="{css.tooltip.arrow}"></div> <div class="{css.tooltip.inner}">{opts.bubble.text}</div> </div> <div class="content" onmouseover="{showBubble}" onmouseout="{hideBubble}" onclick="{toggleBubble}"> <yield></yield> </div> </div>','rg-bubble,rg-bubble [data-is="rg-bubble"],[data-is="rg-bubble"] [data-is="rg-bubble"]{ display: inline-block; position: relative; }',"",function(t){this.mixin("CSSMixin"),this.showBubble=(()=>{clearTimeout(this._timer),this.isvisible=!0}),this.hideBubble=(()=>{this._timer=setTimeout(()=>{this.isvisible=!1,this.update()},t.bubble.delay||1e3)}),this.toggleBubble=(()=>{this.isvisible=!this.isvisible})}),t.tag2("rg-chart","<canvas></canvas>",'rg-chart,[data-is="rg-chart"]{ display: inline-block; width: 100%; }',"",function(t){Chart.defaults.global.responsive=!0,this.on("mount",()=>{e()}),this.on("loaded",t=>{this.on("unmount",()=>{t.destroy()})});const e=()=>{if(!t.chart)return;let e=this.root.querySelector("canvas").getContext("2d"),a=new Chart(e),i=null;switch(t.chart.type){case"line":i=a.Line(t.chart.data,t.chart.options);break;case"radar":i=a.Radar(t.chart.data,t.chart.options);break;case"polar":i=a.PolarArea(t.chart.data,t.chart.options);break;case"pie":i=a.Pie(t.chart.data,t.chart.options);break;case"doughnut":i=a.Doughnut(t.chart.data,t.chart.options);break;default:i=a.Bar(t.chart.data,t.chart.options)}this.trigger("loaded",i)}}),t.tag2("rg-code",'<div class="editor"></div>','rg-code .editor,[data-is="rg-code"] .editor{ position: absolute; top: 0; right: 0; bottom: 0; left: 0; }',"",function(t){let e;t.editor||(t.editor={code:""});this.on("update",()=>{this.isMounted&&(e.setTheme(`ace/theme/${t.editor.theme||"monokai"}`),e.getSession().setMode(`ace/mode/${t.editor.mode||"html"}`),e.getSession().setTabSize(t.editor.tabsize||2),e.getSession().setUseSoftTabs(t.editor.softtabs),e.getSession().setUseWrapMode(t.editor.wordwrap),e.setReadOnly(t.editor.readonly),t.editor.code!=e.getValue()&&e.setValue(t.editor.code,1))}),this.on("mount",()=>{if(t.editor.code=t.editor.code||"",this.editor=e=ace.edit(this.root.querySelector(".editor")),e.$blockScrolling=1/0,t.editor.url){const e=new XMLHttpRequest;e.onload=(e=>{t.editor.code=e,this.update()}),e.open("get",t.editor.url,!0),e.send()}e.setValue(t.editor.code,1),e.getSession().on("change",a=>{t.editor.code=e.getValue(),this.trigger("onchange",e.getValue())}),this.update()})}),t.tag2("rg-credit-card-number",'<input type="text" name="cardnumber" class="card-no {icon} {className}" oninput="{oninput}" placeholder="{opts.card.placeholder}">','rg-credit-card-number .card-no,[data-is="rg-credit-card-number"] .card-no{ padding-right: 60px; background-repeat: no-repeat; background-position: right center; background-size: 60px; } rg-credit-card-number .amex,[data-is="rg-credit-card-number"] .amex{ background-image: url(img/amex.png); } rg-credit-card-number .diners_club,[data-is="rg-credit-card-number"] .diners_club{ background-image: url(img/diners_club.png); } rg-credit-card-number .discover,[data-is="rg-credit-card-number"] .discover{ background-image: url(img/discover.png); } rg-credit-card-number .jcb,[data-is="rg-credit-card-number"] .jcb{ background-image: url(img/jcb.png); } rg-credit-card-number .mastercard,[data-is="rg-credit-card-number"] .mastercard{ background-image: url(img/mastercard.png); } rg-credit-card-number .visa,[data-is="rg-credit-card-number"] .visa{ background-image: url(img/visa.png); }',"",function(t){this.mixin("CSSMixin"),this.on("mount",()=>{this.input=this.root.querySelector("input"),this.input.value=t.card.cardnumber,this.update()}),this.oninput=(()=>{}),t.card||(t.card={cardnumber:""}),this.on("update",()=>{if(!this.isMounted)return;t.card.cardnumber=this.input.value;const e=function(t){var e,a,i,o,s,r,n;(a=[{name:"amex",icon:"images/amex.png",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club",icon:"images/diners_club.png",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club",icon:"images/diners_club.png",pattern:/^36/,valid_length:[14]},{name:"jcb",icon:"images/jcb.png",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",icon:"images/visa.png",pattern:/^4/,valid_length:[16]},{name:"mastercard",icon:"images/mastercard.png",pattern:/^5[1-5]/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",icon:"images/discover.png",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]}]).map(t=>t.name);return i=function(t){return a.find(e=>t.match(e.pattern))||null},s=function(t){var e,a,i,o,s,r;for(i=0,a=o=0,s=(r=t.split("").reverse()).length;o<s;a=++o)e=+(e=r[a]),i+=a%2?(e*=2)<10?e:e-9:e;return i%10==0},o=function(t,e){return-1!==e.valid_length.indexOf(t.length)},n=function(t){var a,r;return r=!1,a=!1,null!=(e=i(t))&&(r=s(t),a=o(t,e)),{card_type:e,valid:r&&a,luhn_valid:r,length_valid:a}},r=function(t){return t.replace(/[ -]/g,"")},function(){return n(r(t))}(t)}(t.card.cardnumber);t.card.valid=e.valid,this.icon=t.card.valid?e.card_type.name:"",this.className=this.css.field[e.valid?"success":"default"]})}),t.tag2("rg-date",'<div class="container"> <input type="text" class="{css.field.default}" onclick="{open}" riot-value="{value}" readonly> <div class="calendar calendar--high" if="{isvisible}"> <button class="calendar__control" disabled="{opts.date.min.isSame(opts.date.date, \'year\')}" onclick="{prevYear}">‹</button> <div class="calendar__header">{opts.date.date.format(yearFormat)}</div> <button class="calendar__control" disabled="{opts.date.max.isSame(opts.date.date, \'year\')}" onclick="{nextYear}">›</button> <button class="calendar__control" disabled="{opts.date.min.isSame(opts.date.date, \'month\')}" onclick="{prevMonth}">‹</button> <div class="calendar__header">{opts.date.date.format(monthFormat)}</div> <button class="calendar__control" disabled="{opts.date.max.isSame(opts.date.date, \'month\')}" onclick="{nextMonth}">›</button> <div class="calendar__day">Mo</div> <div class="calendar__day">Tu</div> <div class="calendar__day">We</div> <div class="calendar__day">Th</div> <div class="calendar__day">Fr</div> <div class="calendar__day">Sa</div> <div class="calendar__day">Su</div> <button class="calendar__date {\'calendar__date--selected\': day.selected, \'calendar__date--today\': day.today}" disabled="{day.disabled}" each="{day in startBuffer}" onclick="{select}">{day.date.format(dayFormat)}</button> <button class="calendar__date calendar__date--in-month {\'calendar__date--selected\': day.selected, \'calendar__date--today\': day.today}" disabled="{day.disabled}" each="{day in days}" onclick="{select}">{day.date.format(dayFormat)}</button> <button class="calendar__date {\'calendar__date--selected\': day.selected, \'calendar__date--today\': day.today}" disabled="{day.disabled}" each="{day in endBuffer}" onclick="{select}">{day.date.format(dayFormat)}</button> <button class="button button--block button--primary" disabled="{opts.date.min.isAfter(moment(), \'day\') || opts.date.max.isBefore(moment(), \'day\')}" onclick="{setToday}">Today</button> </div> </div>','rg-date .container,[data-is="rg-date"] .container{ position: relative; display: inline-block; cursor: pointer; } rg-date .calendar,[data-is="rg-date"] .calendar{ position: absolute; min-width: 300px; margin-top: .5em; left: 0; z-index: 501; }',"",function(t){this.mixin("CSSMixin");const e=t=>(moment.isMoment(t)||(t=moment(t)),t.isValid()?t:moment()),a=t=>{this.root.contains(t.target)||this.close(),this.update()};this.dayObj=(e=>{return{date:e||moment(),selected:t.date.date.isSame(e,"day"),today:moment().isSame(e,"day"),disabled:t.date.min&&t.date.min.isAfter(e)||t.date.max&&t.date.max.isBefore(e)}});const i=()=>{this.format="LL",this.yearFormat="YYYY",this.monthFormat="MMMM",this.dayFormat="DD",this.days=[],this.startBuffer=[],this.endBuffer=[];const e=moment(t.date.date).startOf("month"),a=moment(t.date.date).daysInMonth(),i=moment(t.date.date).endOf("month");for(let t=e.isoWeekday()-1;t>0;t-=1){const a=moment(e).subtract(t,"days");this.startBuffer.push(this.dayObj(a))}for(let t=0;t<a;t++){const a=moment(e).add(t,"days");this.days.push(this.dayObj(a))}for(let t=i.isoWeekday()+1;t<=7;t++){const e=moment(i).add(t-i.isoWeekday(),"days");this.endBuffer.push(this.dayObj(e))}};this.on("mount",()=>{t.date||(t.date={date:moment()}),t.date.date||(t.date.date=moment()),t.date.date=e(t.date.date),t.date.min=e(t.date.min||-864e13),t.date.min.isAfter(t.date.date,"day")&&(t.date.date=moment(t.date.min)),t.date.max=e(t.date.max||864e13),t.date.max.isBefore(t.date.date,"day")&&(t.date.date=moment(t.date.max)),document.addEventListener("click",a),this.update()}),this.on("update",()=>{this.isMounted&&(t.date.date=e(t.date.date),i(),this.value=t.date.date.format(this.format))}),this.on("unmount",()=>{document.removeEventListener("click",a)}),this.open=(()=>{this.isvisible=!0,this.trigger("open")}),this.close=(()=>{this.isvisible&&(this.isvisible=!1,this.trigger("close"))}),this.select=(e=>{t.date.date=e.item.day.date,this.trigger("select",t.date.date)}),this.setToday=(()=>{t.date.date=moment(),this.trigger("select",t.date.date)}),this.prevYear=(()=>{t.date.date=t.date.date.subtract(1,"year")}),this.nextYear=(()=>{t.date.date=t.date.date.add(1,"year")}),this.prevMonth=(()=>{t.date.date=t.date.date.subtract(1,"month")}),this.nextMonth=(()=>{t.date.date=t.date.date.add(1,"month")})}),t.tag2("rg-drawer",'<div class="overlay" if="{opts.drawer.isvisible}" onclick="{close}"></div> <div class="drawer {\'drawer--\' + opts.drawer.position || \'drawer--bottom\'} {\'drawer--visible\': opts.drawer.isvisible}"> <h4 class="heading heading--xsmall">{opts.drawer.header}</h4> <ul class="menu"> <li class="menu__item {\'menu__item--active\': active}" each="{opts.drawer.items}" onclick="{parent.select}"> {text} </li> </ul> <div class="drawer__body"> <yield></yield> </div> </div>',"","",function(t){t.drawer||(t.drawer={}),this.close=(()=>{t.drawer.isvisible=!1,this.trigger("close")}),this.select=(e=>{t.drawer.items.forEach(t=>t.active=!1),e.item.active=!0,this.trigger("select",e.item)})}),t.tag2("rg-ga","","","",function(t){var e,a,i,o,s,r;e=window,a=document,i="script",o="ga",e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,s=a.createElement(i),r=a.getElementsByTagName(i)[0],s.async=1,s.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(s,r),ga("create",t.property,"auto"),ga("send","pageview")}),t.tag2("rg-iframify",'<div class="iframify"> <div class="frame"> <yield></yield> </div> </div>','rg-iframify .iframify,[data-is="rg-iframify"] .iframify{ margin: 0; padding: 0; } rg-iframify iframe,[data-is="rg-iframify"] iframe{ position: relative; width: 100%; border: 0; }',"",function(t){this.on("mount",()=>{iframify(this.root.querySelector(".frame"),this.opts)})}),t.tag2("rg-include","<div> {responseText} </div>","","",function(t){const e=()=>{const e=new XMLHttpRequest;e.onload=(a=>{t.include.unsafe?this.root.innerHTML=e.responseText:this.responseText=e.responseText,this.update(),this.trigger("loaded")}),e.open("get",t.include.url,!0),e.send(),this.trigger("loading")};this.on("mount",()=>{e()})}),t.tag2("rg-map",'<div class="rg-map"></div>','rg-map .rg-map,[data-is="rg-map"] .rg-map{ margin: 0; padding: 0; width: 100%; height: 100%; } rg-map .rg-map img,[data-is="rg-map"] .rg-map img{ max-width: inherit; }',"",function(e){window.rg=window.rg||{},window.rg.gmap=t.observable({initialize:()=>{window.rg.gmap.trigger("initialize")}}),this.on("mount",()=>{if(e.map||(e.map={center:{lat:53.806,lng:-1.535},zoom:7}),rg.gmap.on("initialize",()=>{e.map.mapObj=new google.maps.Map(this.root.querySelector(".rg-map"),e.map),this.trigger("loaded",e.map.mapObj)}),!document.getElementById("gmap_script")){let t=document.createElement("script");t.setAttribute("id","gmap_script"),t.type="text/javascript",t.src="https://maps.googleapis.com/maps/api/js?callback=window.rg.gmap.initialize",document.body.appendChild(t)}})}),t.tag2("rg-markdown","","","",function(t){this.on("mount",()=>this.update()),this.reader=new commonmark.Parser,this.writer=new commonmark.HtmlRenderer,this.on("update",()=>{if(t.markdown||(t.markdown={}),t.markdown.content)this.root.innerHTML=this.writer.render(this.reader.parse(t.markdown.content));else if(t.markdown.url){const e=new XMLHttpRequest;e.onload=(t=>{this.root.innerHTML=this.writer.render(this.reader.parse(e.responseText)),this.trigger("loaded")}),e.open("get",t.markdown.url,!0),e.send(),this.trigger("loading")}})}),t.tag2("rg-modal",'<div class="{css.mask}" if="{opts.modal.isvisible}" onclick="{close}"></div> <div class="{outer_style}" if="{opts.modal.isvisible}"> <div class="{css.modal.inner}"> <header class="{css.header}"> <button if="{opts.modal.dismissable}" type="button" class="{css.button.close}" onclick="{close}"> &times; </button> <h3 class="{css.header_title}">{opts.modal.heading}</h3> </header> <div class="{css.body}"> <yield></yield> </div> <footer class="{css.footer}"> <button each="{opts.modal.buttons}" type="button" class="{css.button[type]}" onclick="{action}" riot-style="{style}"> {text} </button> </footer> </div> </div>','rg-modal .modal--ghost .modal__footer,[data-is="rg-modal"] .modal--ghost .modal__footer{ display: block; } rg-modal .modal--ghost .modal__footer .button,[data-is="rg-modal"] .modal--ghost .modal__footer .button{ margin: 0 .5em 0 0; }','class="{css.root}"',function(t){this.mixin("CSSMixin"),this.scopeCSS("modal"),this.on("mount",()=>this.update()),t.modal||(t.modal={}),this.close=(()=>{t.modal.dismissable&&(t.modal.isvisible=!1,this.trigger("close"))}),this.on("update",()=>{this.outer_style=this.css[t.modal.ghost?"ghost":"outer"]})}),t.tag2("rg-pagination",'<div class="{css.outer}"> <div class="{css.controls.left}"> <button class="{css.item}" disabled="{opts.pagination.page <= 1}" onclick="{first}">«</button> <button class="{css.item}" disabled="{opts.pagination.page <= 1}" onclick="{back}">‹</button> </div> <div class="{css.controls.center}"> <span class="{css.ellipsis}" if="{opts.pagination.page > 2}">&hellip;</span> <button class="{css.page}" onclick="{back}" if="{opts.pagination.page > 1}">{opts.pagination.page - 1}</button> <button class="{css.active_page}">{opts.pagination.page}</button> <button class="{css.page}" onclick="{forward}" if="{opts.pagination.page < opts.pagination.pages}">{opts.pagination.page + 1}</button> <span class="{css.ellipsis}" if="{opts.pagination.page < opts.pagination.pages - 1}">&hellip;</span> </div> <div class="{css.controls.right}"> <button class="{css.item}" disabled="{opts.pagination.page >= opts.pagination.pages}" onclick="{forward}">›</button> <button class="{css.item}" disabled="{opts.pagination.page >= opts.pagination.pages}" onclick="{last}">»</button> </div> </div>',"","",function(t){this.mixin("CSSMixin"),this.scopeCSS("pagination"),t.pagination||(t.pagination={pages:1,page:1}),this.on("page",()=>{const t=this.root.querySelectorAll("button");for(let e=0;e<t.length;e++)t[e].blur()}),this.forward=(()=>{t.pagination.page++,this.trigger("page",t.pagination.page)}),this.back=(()=>{t.pagination.page--,this.trigger("page",t.pagination.page)}),this.first=(()=>{t.pagination.page=1,this.trigger("page",t.pagination.page)}),this.last=(()=>{t.pagination.page=t.pagination.pages,this.trigger("page",t.pagination.page)})}),t.tag2("rg-phone-sim",'<div class="emulator" if="{opts.phonesim && opts.phonesim.url}"> <iframe class="screen" riot-src="{opts.phonesim.url}"></iframe> </div>','rg-phone-sim .emulator,[data-is="rg-phone-sim"] .emulator{ position: relative; width: 365px; height: 792px; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAW0AAAMYCAMAAAA3r0ZLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwBQTFRFMDk6+vr6KTM0lJucMz4/PklKJS8wLTg5Qk1OxsjILzo7gomJ2NvbdH5/ho2O9fb2KzY3ztHRPEdIOkVGZWxtjJSVOEJDkpeYWGRluL2+KTQ1vcHBoaWlPUZHcnp6nKKjOkRF1NfXqa2tp62tZnBxanV2VmFiZ29wVl1eaXJzbXR04uTktbq7QElK1tnZipKTi5CRTlZXpKioo6mqXmlqUVlaOEFCSVFSUFxdISssT1tcTlpbJC4vIiwtTVlaJjAxIy0uTFhZS1dYJzEyKDIzSlZXPUhJOURFO0ZHSVVWKzU2P0pLKjQ1OENEND0+QEtMLDY3SFRVN0JDQ05PLTc4ND9ANUBBQUxNNkFCR1NUMTo7RE9QLjg5N0BBR1JTRlJTLzk6RVFSMjs8RVBRRlFSNj9AMzw9SFNUMj0+IissMTs8MDo7SVRVRFBRMDs8MTw9IiwsMz0+Mjw9SlVWQ09QLjk6NT4/S1ZXND4/JC4uQU1OIy0tQk5PTFdYTVhZQExNTllaJS8vJzIyP0tMLzg5LDc4KDMzNT9AKjU1N0FCNkBBJjAwIywtMDs7Mj09NkFBJjExLjk5LDc3N0JCNUBAKjU2MTw8LDU2Ljc4OUNEKDEyQU1NPEhIPEhJO0dHOkZGND8/Qk5ORFBQQ09PLTY3OUREPkpKPkpLPUlJT1pbP0tLJTAwPUlKJzAxKjM07u/vKTIzsbW2YGprtLm50tXWPkhJo6endn+A3d/f6uvreoOEg4yN2tvc/Pz8n6am8/T0VFtcm6CgJS4v4OLi5ufnYGdncnt8dHp7gYaHJC0uu8DAjJGRQkxNxMfHKzQ1YGtsS1NUaXN0bnh5yMzMyszMy83Oy8/PdoCAKDIy7O3tT1dYuLu70NTUbXd46Onq6erreoCA2dzc8PHx8vPz5OXlnaSkn6Wmqq6ucHZ2t7y8o6eoeoSEkJaWm5+gW2ZnZG5vqa+wOEFB09bWtru7qrCwcXd4t7u83eDgzM7O7/DwNT4+7e7uwMPDwcPEeH5/////70wnUQAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAA+NSURBVHja7N13nBTlGcDxEQI5AmJQBAkcnqhEDIhoWMt5iogmQbOaYNrqYrJh16gplmTVkILJpYCmF+DSE1JIcjRR7L333ntPYjQxvTl55tnr7N7t7uw+vDP3+/0x3G3hs5+vr++8M7s7eH75Xb5x+rOjN017aeq+tO++U1+atmn0s9M3Xl6BoFfm466ZOPROhIt259CJ19RS++7LdgW133a97O7aaI/a+VE0y+jRnUeF1p6wqfvvaz6+YVjT0jMyJ3rkeSdmzljaNKzh+OZuoE0TQmmvv67zLzrwmMY8wkXLNx5zYCfTdeur1p6wdeegblgKar8tbegc4lv/rirtjTMLT99/UVMKzgFLNS3avwA2c2Pl2n8tPHV1QxLJMks2rC6g/alC7ScvKozrhhyIFZRrKIzvi56sRHt94b/RIsZ1xeN7UYFuffna4/UJB68Er4rGHax648vUfmqkPnxBBrmqyixQv5FPlaP9Dz2eWdIEW9U1LdFjnQsG1n5ETz4dyowdavY+VE9XPTKQ9phddPfICjvk6lt3lruM6V97j132l26BK3S3BJAv79Gf9jN3BY85HKsadHhAedebSmtf+ofgEcOQqknDAsyLLi2pPTq4/0icatSRAefoUto7Bvc2oFSzGgLQHYtr3xTct5DVSA1XJgsD0puKaa99s9wzlwPImh5WzhXTl/5TRHt7uaN5GUI1bVmzqL64ufZfgkF/GD417rCA9e99tf8VzCPHoVPzjhPXaVv10d5bblzCyZE6nDIJ5pKde2u/Egz487Cp1zHlHr20h8otp50ETT2WgaeL7dCe2vcF/uOQqUsrA9z7emgHQ3thdEZLLpeL0kHYwq7BrdqjAv2ofEAnlU0EZaPjvTTgHdWlvXeEhnYu0VkuUoN7707tbW6X35oiciyc6C4yZxmaxPf2bTq0z5VfTo/IC8/20M5GZnAHy5JzO7Tvj85bCKlEzyIzdQdvLNxf0L4wmMQjMgnmemlHZubOBcQXqvb0CO0jk720o3OmIdhPTlft4FTrth5ju55tK8bbq/YG+emUiLzqTC/t6Lz1cYoYbwi0r47QisTz0j2w0xE6ngxWJVeLdrD+WxCZVx3J9ba0QNeAnj9T/twuOi87GcF9pLSdKM8U7Q2rV6+O0jcQMoXJJB2t96tzorzB99Y2NzfPjdQL9zLJZDJynw2YK85rvZ1ku9Cjuq+4xXknb4Js+XxU/WsQ5wnec7LlDcn6d544P+ddLFu+zlT/Vorzxd5k2fIJqfq3TJwney/Lls+RGBwniPPL3g6y5aOWBstWcd7BmypbLjhS/1LiPNWTTTMWBik02mijTWijTWijjTbFVTuZTqSTRW8OUzqJdpGyxT89mU2ELYv25kO4+LvnyUT4kmj3LV38YzjpGmin3dReIm2pF9BlU+LmMDmnrdBbUntQje0trj2o5m2FPlBiTWKQQm9R7cG03nZAexCFNtpoE9poE9poo01oo01oo01oo4021VT7MxIUBik02mijTeG1D5agMEih0UYbbUIbbUIbbbQJbbQJbbQJbbTRplppf1qCwiCFRhtttCm89lwJCoMUGm200Sa00Sa00Uab0Eab0Eab0EY73tqnS1AYpNBoo402hdc+VILCIIVGG220CW20CW200Sa00Sa00aYC9GkSFAYpNNpoo01oR0v7bRIUBik02mijTWijTWijjTahjTah7bL2hyUoDFJotNFGm9BGm0ppv0OCwiCFRhtttAlttAlttNEmtOOhfbwEhUEKjTbaaBPaaBPaLmi/T4LCIIVGG220CW20CW200ab6aS+UoDBIodFGG21CG21C2wXt4yQoDFJotNFGm9BGm9BGe7BpL5KgMEih0UYbbUIbbULbBe0PSFAYpNBoo402oY02oY32YNP+oASFQQqNNtpoE9poE9poDzbtj0hQGKTQaKONNqGNNpXS/qkEhUEKfYwEhUEKjTbaaBPaaBPaaA827Y9LUBik0GijjTahHS3tn0lQGKTQCyQoDFJotNFGm9BGm9BGG22qn/anJCgMUmi00Uabwmv/RILCIIVukKAwSKHRRhttQhttQhtttKl+2p+UoDBIodFGG20Kr/09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\'); background-repeat: no-repeat; background-position: center; background-size: cover; } rg-phone-sim .screen,[data-is="rg-phone-sim"] .screen{ position: absolute; top: 105px; left: 22px; background-color: white; width: 320px; height: 568px; border: 0; }',"",function(t){}),t.tag2("rg-placeholdit",'<img riot-src="https://placeholdit.imgix.net/~text?bg={opts.placeholdit.background}&txtclr={opts.placeholdit.color}&txt={opts.placeholdit.text}&txtsize={opts.placeholdit.textsize}&w={opts.placeholdit.width}&h={opts.placeholdit.height}&fm={opts.placeholdit.format}">',"","",function(t){t.placeholdit||(t.placeholdit={}),this.on("mount",()=>this.update()),this.on("update",()=>{t.placeholdit.width=t.placeholdit.width||450,t.placeholdit.height=t.placeholdit.height||250,t.placeholdit.background=t.placeholdit.background||"000",t.placeholdit.color=t.placeholdit.color||"fff",t.placeholdit.text=t.placeholdit.text||`${t.placeholdit.width} x ${t.placeholdit.height}`,t.placeholdit.textsize=t.placeholdit.textsize||30,t.placeholdit.format=t.placeholdit.format||"png"})}),t.tag2("rg-raw","<span></span>","","",function(t){this.on("mount",()=>this.update()),this.on("update",()=>{this.root.innerHTML=t.content||""})}),t.tag2("rg-select",'<input type="{opts.select.filter ? \'search\' : \'text\'}" name="selectfield" class="{css.field.default}" placeholder="{opts.select.placeholder}" onkeydown="{keydown}" onfocus="{open}" readonly="{!opts.select.filter}"> <ul class="{css.menu.outer}" if="{isvisible}"> <li each="{options}" onclick="{parent.select}" class="{className}" disabled="{disabled}"> {text} </li> </ul>','rg-select .menu,[data-is="rg-select"] .menu{ position: absolute; }',"",function(t){this.mixin("CSSMixin"),t.select||(t.select={options:[]});const e=t=>{this.root.contains(t.target)||this.close(),this.update()};this.on("mount",()=>{document.addEventListener("click",e),this.update()}),this.on("unmount",()=>{document.removeEventListener("click",e)}),this.keydown=(t=>{const e=this.isvisible;if(this.open(),38===t.keyCode)this.navigate(-1),t.preventDefault();else if(40===t.keyCode)this.navigate(1),t.preventDefault();else if(13===t.keyCode){if(!e)return;const a=o()||this.options[0];a&&this.select({item:a}),this.close(),t.preventDefault()}else this._navigate(0)}),this.select=(e=>{e.item.text;i().value=e.item.text,this.trigger("select",e.item.text),t.onselect&&t.onselect(e.item,this),t.select.options.forEach(t=>t.selected=!1),e.item.selected=!0,this.close()}),this.navigate=(t=>{const{options:e}=this;let a=(e.findIndex(t=>t.active)+t)%e.length;a<0&&(a=e.length-1),this._navigate(a)}),this._navigate=(e=>{t.select.options.forEach(t=>t.active=!1);const a=this.options[e||0];a&&(a.active=!0)}),this.on("update",()=>{if(!this.isMounted)return;const e=a();if(this.options=t.select.options,t.select.filter&&e){const t=new RegExp(e,"i");this.options=this.options.filter(e=>e.text.match(t)),this.trigger("filter")}this.options.forEach(t=>{let e;t.disabled?e="disabled":t.selected&&(e="selected"),t.className=this.css.menu[e],t.active&&(t.className+=" "+this.css.menu.hover)})});const a=()=>i().value,i=()=>this.root.querySelector("input"),o=()=>this.options.find(t=>t.active);this.open=(t=>{this.isvisible=!0,this.trigger("open")}),this.close=(t=>{this.isvisible=!1,this.trigger("close")})}),t.tag2("rg-tabs",'<div class="{css.tab_outer}"> <div class="{css.tab_nav.outer}"> <div each="{tab in opts.tabs.tabs}" class="{css.tab_nav.match(tab)}" onclick="{parent.open}"> {tab.heading} </div> </div> <div each="{tab in opts.tabs.tabs}" class="{css.tab_content.match(tab)}"> {tab.text} <rg-raw if="{tab.raw}" content="{tab.raw}"></rg-raw> <div if="{include}"> {include.responseText} </div> </div> </div>',"","",function(t){t.tabs||(t.tabs={}),this.mixin("CSSMixin"),this.on("mount",()=>this.update());const e=t=>{if(t.raw)return;const e=new XMLHttpRequest;e.onload=(a=>{t.raw=e.responseText,t.text=void 0,this.update(),this.trigger("loaded",t)}),e.open("get",t.include,!0),e.send(),this.trigger("loading",t)};this.open=(e=>{let a=e.item.tab;a.disabled||a.active||(t.tabs.tabs.forEach(t=>t.active=!1),this.trigger("open",a),a.active=!0)}),this.on("update",()=>{Array.isArray(t.tabs.tabs)&&t.tabs.tabs.forEach(t=>{!t.disabled&&t.active&&t.include&&e(t)})})}),t.tag2("rg-tags",'<div class="tags"> <span class="tags__container"> <div each="{opts.tags.tags}" onclick="{removeTag}" class="{css.badge.primary} {\'rg-pointer\': removeTag}"> {text} <span class="tag__close">×</span> </div> </span> <rg-select select="{select_opts}" onselect="{select}" class="tags__container"></rg-select> </div>','rg-tags .menu,[data-is="rg-tags"] .menu{ position: absolute; }','class="{opts.className}"',function(t){this.mixin("CSSMixin"),this.on("mount",()=>this.update()),t.tags||(t.tags={options:[],tags:[]}),t.tags.options||(t.tags.options=[]),t.tags.tags||(t.tags.tags=[]),this.select_opts=Object.assign({filter:!0},t.tags),this.select=((t,e)=>{this.addTag(t),this.trigger("select",t),this.root.querySelector("input").value="",this.update()}),this.addTag=(e=>{-1==t.tags.tags.indexOf(e)&&t.tags.tags.push(e)}),this.removeTag=(e=>{t.tags.tags=t.tags.tags.filter(t=>{if(t._id!=e.item._id)return t})}),this.on("update",()=>{t.tags.options.forEach(t=>{t._id=t._id||(Math.floor(60466175*Math.random())+1679615).toString(36)}),t.tags.tags.forEach(t=>{t._id=t._id||(Math.floor(60466175*Math.random())+1679615).toString(36)})})}),t.tag2("rg-toasts",'<div if="{opts.toasts.isvisible}" class="{css.toast_outer[opts.toasts.position]}"> <div each="{opts.toasts.toasts}" class="{css.toast[type]}" if="{isvisible}" onclick="{parent.toastClicked}"> <div class="toast-header"> {text} </div> </div> </div>',"","",function(t){this.mixin("CSSMixin"),t.toasts=t.toasts||{},Array.isArray(t.toasts.toasts)||(t.toasts.toasts=[]),this.on("mount",()=>this.update()),this.toastClicked=(t=>{let e=t.item;window.clearTimeout(e.timer),e.isvisible=!1,this.trigger("select",e)});let e=1;this.on("update",()=>{t.toasts.position=t.toasts.position||"bottomright",t.toasts.toasts.forEach(t=>{t.type=t.type||"primary",void 0===t.isvisible&&(t.isvisible=!0),t.id=t.id||(()=>e++)(),t.timer||t.sticky||(t.startTimer=(()=>{t.timer=window.setTimeout(()=>{t.isvisible=!1,this.trigger("close",t),this.update()},t.timeout||6e3)}),t.startTimer())}),t.toasts.isvisible=t.toasts.toasts.filter(t=>t.isvisible).length>0})}),t.tag2("rg-toggle",'<div class="{css.outer}"> <label class="{css.wrapper}"> <input type="checkbox" checked="{opts.toggle.checked}" onclick="{toggle}"> <div class="{css.track}"> <div class="{css.handle}"></div> </div> <yield></yield> </label> </div>',"","",function(t){this.mixin("CSSMixin"),this.scopeCSS("switch"),t.toggle=t.toggle||{},this.toggle=(()=>{t.toggle.checked=!t.toggle.checked,this.trigger("toggle",t.toggle.checked)})}),t.tag2("rg-unsplash",'<img if="{path}" riot-src="https://unsplash.it/{path}/?{options}">',"","",function(t){this.on("mount",()=>this.update()),this.on("update",()=>{t.unsplash||(t.unsplash={});const{greyscale:e,width:a,height:i}=t.unsplash;this.path=`${e?"g/":""}${a||450}/${i||250}`,this.options="",t.unsplash.random&&(this.options+="random&"),t.unsplash.blur&&(this.options+="blur&"),t.unsplash.image&&(this.options+="image="+t.unsplash.image+"&"),void 0!==t.unsplash.gravity&&(this.options+="gravity="+t.unsplash.gravity)})})});